I"Z<p>While working on other things, I discovered how performant it was to switch textures on an <code class="language-plaintext highlighter-rouge">SCNNode</code>. What if I could switch textures quickly, like at the speed of scroll? And thus, <code class="language-plaintext highlighter-rouge">ARPKCarousel</code> was born. 
<em>spoiler: it’s plenty fast in a scrollview</em></p>

<iframe src="https://player.vimeo.com/video/317955475" width="640" height="266" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<p><a class="button" href="https://github.com/geraldk/ARPKCarousel">See it on Github  <svg width="16" height="16" class="icon  icon--github" role="img" alt="github"><title>github</title><use xlink:href="#github" fill="CurrentColor"></use></svg>
</a></p>

<p>I like working with usdz files so I grabbed one off Apple’s QuickLook Gallery and chucked it into a SCNView. Then underneath, I have a <code class="language-plaintext highlighter-rouge">UICollectionView</code> and the gist of it is whatever is at index 0 is the texture of the model. I added a few quality of life tweaks:</p>
<ul>
  <li>the <code class="language-plaintext highlighter-rouge">SCNView</code> is placed to hide the ‘active’ texture cell but not the label so you can get some context</li>
  <li>The <code class="language-plaintext highlighter-rouge">UICollectionView</code> has a large right contentInset to make sure the last cell can fit underneath slot 0</li>
  <li>I used a subclass of <code class="language-plaintext highlighter-rouge">UICollectionViewFlowLayout</code> to get the cells to snap to position 0 nicely (thanks to this SO post https://stackoverflow.com/a/49617263)</li>
</ul>

<p>There could be a lot of other cool things to make this more useable but I’d like to move onto experiments on how this works in AR in future posts</p>
:ET